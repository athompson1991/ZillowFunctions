{
    "contents" : "library(RColorBrewer)\n\nsource(\"https://raw.githubusercontent.com/mylesmharrison/colorRampPaletteAlpha/master/colorRampPaletteAlpha.R\")\nmy_data <- get_zillow_data(loc_type = \"Zip\")\nn <- nrow(my_data$returns)\n\n\n\nfirst_third <- my_data$returns[1:(round(n * 2 / 3, 0)), ]\nlast_third  <- my_data$returns[(round(n * 2 / 3, 0) + 1):n, ]\nann_means_train <- apply(first_third, 2, mean) * 12\nann_sd_train <- apply(first_third, 2, sd) * sqrt(12)\nann_means_test  <- apply(last_third, 2, mean) * 12\nann_sd_test <- apply(last_third, 2, sd) * sqrt(12)\nmeans_df <- cbind(ann_means_train, ann_means_test, ann_sd_train, ann_sd_test)\nkmeans_obj <- kmeans(means_df, 3)\nplot(means_df) #, col = kmeans_obj$cluster)\n\n\ntest_data <- my_data$returns\ntest_pca <- prcomp(test_data)\ntot.var <- sum(test_pca$sdev^2)\nbarplot((test_pca$sdev^2)[1:5]\n        , col = 4\n        , ylim = c(0, max(test_pca$sdev^2) * 1.1)\n        , names.arg = paste(\"PC\", 1:5, sep = \"\")\n        , ylab = \"variance\")\n\npar(mfrow = c(1:3))\nbarplot(test_pca$rotation[ ,1], horiz = T, las = 1, col = 4, main = \"PC1\")\nbarplot(test_pca$rotation[ ,2], horiz = T, las = 1, col = 4, main = \"PC1\")\n\nn_groups <- 4\ncall_out <- 3\nkmeans_obj <- kmeans(test_pca$rotation, n_groups, algorithm = \"Lloyd\", iter.max = 1000)\nmy_cols <- brewer.pal(n_groups, \"Dark2\")\nmy_cols <- c(addalpha(my_cols[call_out], 0.5), addalpha(my_cols[-call_out], 0.1))\nplot(test_pca$rotation[ ,1], test_pca$rotation[ ,2], col = my_cols[kmeans_obj$cluster], pch = 19, cex = 5)\n",
    "created" : 1456363326032.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "1026333092",
    "id" : "1E6A7964",
    "lastKnownWriteTime" : 7011605692497750387,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "type" : "r_source"
}